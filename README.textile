h1. Bubs' Raptr Plugin

Parses the content of the "Games I'm Playing" "Raptr widget":http://raptr.com/dashboard/widgets for display on my WordPress blog. Uses the "PHP Simple HTML DOM Parser":http://simplehtmldom.sourceforge.net/.

h2. Usage

notextile. <ul>
<li>

p. In my theme's _functions.php_ file I set the path to WordPress' Ajax handler using @wp_localize_script()@ ("more info":http://codex.wordpress.org/AJAX_in_Plugins)

bc. function rk_scripts() {
  ...
  wp_localize_script( 'rk_wordpress_js', 'wpAjax', array('url' => admin_url('admin-ajax.php')) );
  ...
}
add_action( 'wp_enqueue_scripts', 'rk_scripts' );
    
notextile. </li>
<li>

p. Using Ajax and CoffeeScript I load the contents of the widget into an unordered list:

h3. CoffeeScript:

bc. $.get wpAjax.url, { action: 'brp-print-games' }, (html) ->
  $ ->
    $('#raptr ul').html html
    
h3. jQuery:

bc. $.get(wpAjax.url, { action: 'brp-print-games' }, function(html) {
  $(function() {
    $('#raptr ul').html(html);
  });
});

p. Note: The following hooks in the _bubs-raptr-plugin.php_ constructor link the Ajax:

bc. add_action( 'wp_ajax_nopriv_brp-print-games', array($this, 'printGames') );
add_action( 'wp_ajax_brp-print-games', array($this, 'printGames') );

notextile. </li>
</ul>